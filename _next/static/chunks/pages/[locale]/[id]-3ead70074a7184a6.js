(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[428],{9783:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/[id]",function(){return n(3687)}])},2018:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var i=n(5893),a=n(2734),s=n(5861),l=n(6919),r=n(7304),c=n(9755),o=n.n(c),d=n(1163),x=n(5601),p=n(6886),u=n(1664),h=n.n(u),m=n(9318),f=e=>{let{locale:t,...n}=e,l=(0,d.useRouter)(),c=(0,a.Z)(),{t:o}=(0,r.$G)("common"),u=n.href||l.asPath,f=l.pathname;return Object.keys(l.query).forEach(e=>{if("locale"===e){f=f.replace("[".concat(e,"]"),t);return}f=f.replace("[".concat(e,"]"),l.query[e])}),t&&(u=n.href?"/".concat(t).concat(n.href):f),(0,i.jsxs)(p.ZP,{container:!0,alignItems:"center",justifyContent:"center",sx:{position:"absolute",top:c.spacing(2),right:{xs:0,sm:c.spacing(4)},width:c.spacing(28)},children:[(0,i.jsx)(p.ZP,{item:!0,xs:8,children:(0,i.jsx)(s.Z,{variant:"subtitle1",sx:{color:c.palette.primary.main},children:o("language")})}),(0,i.jsx)(p.ZP,{item:!0,xs:4,children:(0,i.jsx)(h(),{href:u,onClick:()=>x.Z.cache(t),children:(0,i.jsx)("button",{style:{fontSize:c.spacing(3),backgroundColor:"transparent",cursor:"pointer",border:"none"},children:"de"===t?(0,i.jsx)(m.Z,{countryCode:"DE",svg:!0}):(0,i.jsx)(m.Z,{countryCode:"GB",svg:!0})})})})]})},g=n(3479),j=n.n(g);function y(){let e=(0,d.useRouter)(),t=(0,a.Z)(),{t:n}=(0,r.$G)("common"),c=e.query.locale||j().i18n.defaultLocale;return(0,i.jsxs)(l.Z,{sx:{position:"relative",width:"100%",height:t.spacing(44),zIndex:t.zIndex.drawer+1},children:[(0,i.jsx)(o(),{src:"".concat("","/MGA-8.jpg"),objectFit:"cover",layout:"fill",quality:100,objectPosition:"bottom",style:{filter:"brightness(60%)"},priority:!0,alt:"Mensa Garching"}),(0,i.jsxs)(l.Z,{sx:{position:"absolute",left:{sm:t.spacing(7),xs:"50%"},top:{sm:t.spacing(7),xs:"50%"},color:t.palette.primary.main,maxWidth:t.spacing(80),width:{xs:"90%",sm:"unset"},textAlign:{sm:"left",xs:"center"},transform:{xs:"translate(-50%,-50%)",sm:"unset"}},children:[(0,i.jsxs)(s.Z,{variant:"h2",sx:{color:t.palette.primary.light,fontWeight:600},children:["TUM",(0,i.jsx)("span",{style:{color:t.palette.primary.main},children:"enu"})]}),(0,i.jsx)(s.Z,{variant:"h5",sx:{paddingLeft:t.spacing(1)},children:n("subtitleBanner")})]}),(0,i.jsx)(s.Z,{variant:"body2",sx:{position:"absolute",right:"5px",bottom:"5px",color:t.palette.primary.main,fontSize:t.spacing(.85)},children:"Copyright: https://www.meck-architekten.de/projekte/id/2019-mensa-campus-garching/"}),j().i18n.locales.map(e=>e===c?null:(0,i.jsx)(f,{locale:e},e))]})}},8481:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var i=n(5893),a=n(2734),s=n(8396),l=n(6919),r=n(5861),c=n(7304),o=n(5675),d=n.n(o);function x(e){let{imageSource:t,translationString:n}=e,o=(0,a.Z)(),{t:x}=(0,c.$G)("common"),p=(0,s.Z)("(min-width:37.5em)");return(0,i.jsx)(l.Z,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"center",columnGap:o.spacing(4),rowGap:o.spacing(4),flexWrap:"wrap",my:o.spacing(4)},children:(0,i.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:o.spacing(2)},children:[(0,i.jsx)(r.Z,{variant:"h4",sx:{color:o.palette.primary.dark,fontWeight:600},children:x(n)}),(0,i.jsx)(d(),{src:""+t,quality:100,height:p?400:300,width:p?400:300,priority:!0,alt:"Not Found"})]})})}},2714:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var i=n(5893),a=n(7294),s=n(5152),l=n.n(s),r=n(5813),c=n(7304),o=n(2734),d=n(6919),x=n(9417),p=n(5861),u=n(8462),h=n(9140),m=n(7212),f=n(8619),g=n(9334),j=n(7594),y=n(7922),Z=n(3508),b=n(181),C=n(1664),v=n.n(C),P=n(1163),S=n(5824);function E(e){let{children:t,skipLocaleHandling:n,...s}=e,{setTriggerSidebarMobile:l}=(0,a.useContext)(S.Z),r=(0,o.Z)(),c=(0,P.useRouter)(),d=s.locale||c.query.locale||"",x=s.href||c.asPath;return 0===x.indexOf("http")&&(n=!0),d&&!n&&(x=x?"/".concat(d).concat(x):c.pathname.replace("[locale]",d)),(0,i.jsx)(v(),{href:x,legacyBehavior:!0,scroll:!1,children:(0,i.jsx)("a",{...s,style:{textDecoration:"none",color:r.palette.primary.main},onClick:()=>l(!1),children:t})})}function D(e){let{foodPlace:t}=e,[n,s]=(0,a.useState)(!1),l=(0,o.Z)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.ZP,{disablePadding:!0,children:(0,i.jsxs)(f.Z,{onClick:()=>s(!n),children:[(0,i.jsx)(g.Z,{disableTypography:!0,primary:t.city,sx:{fontSize:l.spacing(2.5)}}),(0,i.jsx)(j.Z,{children:n?(0,i.jsx)(b.Z,{sx:{color:l.palette.primary.main}}):(0,i.jsx)(Z.Z,{sx:{color:l.palette.primary.main}})})]})},t.city),(0,i.jsx)(y.Z,{in:n,timeout:"auto",unmountOnExit:!0,children:(0,i.jsx)(u.Z,{component:"div",disablePadding:!0,children:t.foodPlaces.map(e=>(0,i.jsx)(E,{href:"/".concat(e.canteen_id),skipLocaleHandling:!1,children:(0,i.jsx)(f.Z,{sx:{pl:4},children:(0,i.jsx)(g.Z,{disableTypography:!0,primary:e.name,sx:{fontSize:l.spacing(2)}})})},e.canteen_id))})})]})}let k=l()(()=>Promise.all([n.e(269),n.e(492),n.e(76)]).then(n.bind(n,5389)),{loadableGenerated:{webpack:()=>[5389]},ssr:!1});function w(e){let{foodPlaces:t}=e,[n,s]=(0,a.useState)(!1),{triggerSidebarMobile:l,setTriggerSidebarMobile:m}=(0,a.useContext)(S.Z),{t:f}=(0,c.$G)("common"),g=[{city:"Garching",foodPlaces:[]},{city:"Munich",foodPlaces:[]},{city:"Straubing",foodPlaces:[]},{city:"Weihenstephan",foodPlaces:[]},{city:"Rosenheim",foodPlaces:[]}];t.forEach(e=>{var t,n,i,a,s;let{address:l}=e.location;l.includes("Garching")?null===(t=g.find(e=>"Garching"===e.city))||void 0===t||t.foodPlaces.push(e):l.includes("M\xfcnchen")||l.includes("Plategg")||l.includes("Planegg-Martinsried")?null===(n=g.find(e=>"Munich"===e.city))||void 0===n||n.foodPlaces.push(e):l.includes("Freising")?null===(i=g.find(e=>"Weihenstephan"===e.city))||void 0===i||i.foodPlaces.push(e):l.includes("Rosenheim")?null===(a=g.find(e=>"Rosenheim"===e.city))||void 0===a||a.foodPlaces.push(e):l.includes("Straubing")&&(null===(s=g.find(e=>"Straubing"===e.city))||void 0===s||s.foodPlaces.push(e))});let j=(0,o.Z)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.Z,{sx:{display:{lg:"flex",xs:l?"flex":"none"},position:{lg:"relative",xs:"absolute"},minHeight:{lg:"auto",xs:"100%"},width:j.spacing(30),flexDirection:"column",bgcolor:j.palette.primary.light,color:j.palette.primary.main,borderBottomRightRadius:"12px",zIndex:9999,backgroundColor:j.palette.primary.light},children:[(0,i.jsx)(d.Z,{sx:{display:{lg:"none",xs:"flex"},justifyContent:"flex-end",backgroundColor:j.palette.primary.light,height:j.spacing(3),pt:j.spacing(.5),px:j.spacing(.5)},children:(0,i.jsx)(r.Z,{fontSize:"small",sx:{color:j.palette.primary.main,cursor:"pointer"},onClick:()=>m(!1)})}),(0,i.jsx)(x.Z,{onClick:()=>{s(!0),m(!1)},variant:"text",endIcon:(0,i.jsx)(h.Z,{}),sx:{justifyContent:"flex-start",pl:j.spacing(2)},children:(0,i.jsx)(p.Z,{variant:"h6",children:f("showAllCanteens")})}),(0,i.jsx)(u.Z,{component:"nav",children:g.map(e=>(0,i.jsx)(D,{foodPlace:e},e.city))})]}),(0,i.jsx)(k,{open:n,setOpen:s,foodPlaces:t,mapOpenCoordinates:[48.132264,11.57743],zoom:11})]})}},5601:function(e,t,n){"use strict";var i=n(9515),a=n(3479),s=n.n(a);t.Z=(0,i.Z)({supportedLngs:s().i18n.locales,fallbackLng:s().i18n.defaultLocale})},3479:function(e){"use strict";e.exports={i18n:{defaultLocale:"de",locales:["en","de"],localeDetection:!0}}},3687:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return em},default:function(){return ef}});var i,a,s=n(5893),l=n(9008),r=n.n(l),c=n(7294),o=n(2734),d=n(6919),x=n(2018),p=n(7304),u=n(8396),h=n(1703),m=n(44),f=n(5861),g=n(9417),j=n(8162),y=n(7484),Z=n.n(y),b=n(5183),C=n.n(b),v=n(7181),P=n.n(v),S=n(6886),E=n(5824),D=n(5046),k=n(6829),w=n(2359),A=n(718);function _(e){return 0===e.get("day")||6===e.get("day")}function I(e){let{datePickerValue:t,datePickerSetValue:n,minDate:i,maxDate:a}=e,l=(0,o.Z)();return(0,s.jsx)(w._,{dateAdapter:k.y,children:(0,s.jsx)(A.M,{closeOnSelect:!0,minDate:i,maxDate:a,shouldDisableDate:_,value:t,onChange:e=>{Z()(e).isValid()&&n(e)},renderInput:e=>(0,s.jsx)(D.Z,{sx:{backgroundColor:l.palette.secondary.main},...e})})})}var L=n(5152),M=n.n(L),G=n(8441),R=n(4386),F=n(8962),T=n(1496),N=n(3630);let O=["mon","tue","wed","thu","fri"];var W=n(2492),z=n(5813);function B(e){let{foodPlaceData:t,open:n,setOpen:i}=e,{t:a}=(0,p.$G)("common"),l=(0,o.Z)();return(0,s.jsxs)(W.Z,{open:n,onClose:()=>i(!1),PaperProps:{style:{borderRadius:"12px"}},disableScrollLock:!0,children:[(0,s.jsx)(d.Z,{sx:{display:"flex",justifyContent:"flex-end",backgroundColor:l.palette.primary.light,height:l.spacing(5),pt:l.spacing(.5),px:l.spacing(.5)},children:(0,s.jsx)(z.Z,{fontSize:"small",sx:{color:l.palette.primary.main,cursor:"pointer"},onClick:()=>i(!1)})}),(0,s.jsxs)(S.ZP,{container:!0,rowSpacing:2,flexDirection:"column",sx:{px:{xs:l.spacing(3),sm:l.spacing(5)},pb:l.spacing(5),width:{xs:l.spacing(37),sm:l.spacing(50)},textAlign:"center",backgroundColor:l.palette.primary.light,color:l.palette.primary.main},children:[(0,s.jsxs)(S.ZP,{item:!0,xs:12,sx:{borderBottom:"2px solid #fff"},children:[(0,s.jsx)(f.Z,{variant:"h4",children:t.name}),(0,s.jsx)(f.Z,{variant:"subtitle1",sx:{mt:l.spacing(1)},children:a("openingHours")})]}),(0,s.jsx)(S.ZP,{item:!0,xs:12,children:(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(f.Z,{variant:"h6",children:a("monday")}),(0,s.jsx)(f.Z,{variant:"h6",children:"".concat(t.open_hours.mon.start," - ").concat(t.open_hours.mon.end)})]})}),(0,s.jsx)(S.ZP,{item:!0,xs:12,children:(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(f.Z,{variant:"h6",children:a("tuesday")}),(0,s.jsx)(f.Z,{variant:"h6",children:"".concat(t.open_hours.tue.start," - ").concat(t.open_hours.tue.end)})]})}),(0,s.jsx)(S.ZP,{item:!0,xs:12,children:(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(f.Z,{variant:"h6",children:a("wednesday")}),(0,s.jsx)(f.Z,{variant:"h6",children:"".concat(t.open_hours.wed.start," - ").concat(t.open_hours.wed.end)})]})}),(0,s.jsx)(S.ZP,{item:!0,xs:12,children:(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(f.Z,{variant:"h6",children:a("thursday")}),(0,s.jsx)(f.Z,{variant:"h6",children:"".concat(t.open_hours.thu.start," - ").concat(t.open_hours.thu.end)})]})}),(0,s.jsx)(S.ZP,{item:!0,xs:12,children:(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(f.Z,{variant:"h6",children:a("friday")}),(0,s.jsx)(f.Z,{variant:"h6",children:"".concat(t.open_hours.fri.start," - ").concat(t.open_hours.fri.end)})]})})]})]})}let H=(0,c.createContext)({foodPlaceMenu:{},foodPlaceData:{},labels:[],queueData:{}}),U=M()(()=>Promise.all([n.e(269),n.e(389)]).then(n.bind(n,5389)),{loadableGenerated:{webpack:()=>[5389]},ssr:!1});function Y(e){let{datePickerValue:t}=e,{foodPlaceData:n,queueData:i}=(0,c.useContext)(H),[a,l]=(0,c.useState)(!1),[r,x]=(0,c.useState)(!1),u=(0,o.Z)(),{t:h}=(0,p.$G)("common"),m=(null==t?void 0:t.get("day"))===6||(null==t?void 0:t.get("day"))===0,j=(0,T.ZP)(G.Z)(()=>({["&.".concat(F.Z.colorPrimary)]:{backgroundColor:u.palette.secondary.main},["& .".concat(F.Z.bar)]:{borderRadius:5,backgroundColor:"light"===u.palette.mode?"#1a90ff":"#308fe8"}}));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(S.ZP,{container:!0,rowSpacing:1,alignItems:"center",justifyContent:"center",flexDirection:"row",sx:{width:"100%",position:"relative"},children:[(0,s.jsx)(S.ZP,{item:!0,xs:12,children:(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,s.jsx)(f.Z,{variant:"h4",sx:{fontWeight:600,textAlign:{xs:"center",sm:"right"}},children:n.name}),(0,s.jsx)(N.Z,{onClick:()=>x(!0),sx:{fontSize:u.spacing(6),color:u.palette.secondary.dark,cursor:"pointer"}})]})}),null!==i&&Z()(Z()().format("MM/DD/YYYY")).isSame(Z()(null==t?void 0:t.format("MM/DD/YYYY")))?(0,s.jsx)(S.ZP,{item:!0,xs:12,children:(0,s.jsxs)(S.ZP,{container:!0,justifyContent:"center",alignItems:"center",spacing:1,flexDirection:"row",children:[(0,s.jsx)(S.ZP,{item:!0,sd:3,xs:5,children:(0,s.jsx)(f.Z,{variant:"subtitle1",sx:{textAlign:"center"},children:h("queueStatus")})}),(0,s.jsx)(S.ZP,{item:!0,xs:7,children:(0,s.jsx)(R.Z,{title:"".concat(h("people"),": ").concat(i.count,", ").concat(h("percent"),": ").concat(i.percent.toFixed(2)),arrow:!0,placement:"bottom-end",children:(0,s.jsx)(j,{variant:"determinate",value:i.percent,sx:{borderRadius:"12px",height:u.spacing(2.75),backgroundColor:u.palette.primary.light}})})})]})}):"",(0,s.jsx)(S.ZP,{item:!0,sm:9,xs:12,children:(0,s.jsxs)(d.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",gap:u.spacing(1)},children:[(0,s.jsx)(f.Z,{variant:"subtitle1",sx:{textAlign:{xs:"center",sm:"right"}},children:m?h("intlDateTimeClosed",{val:t,formatParams:{val:{weekday:"long"}}}):"".concat(h("intlDateTimeOpen",{val:t,formatParams:{val:{weekday:"long"}}})," ").concat(n.open_hours["".concat(O[(null==t?void 0:t.get("day"))-1])].start," - ").concat(n.open_hours["".concat(O[(null==t?void 0:t.get("day"))-1])].end)}),(0,s.jsx)(g.Z,{onClick:()=>l(!0),variant:"contained",size:"medium",sx:{backgroundColor:u.palette.primary.light,color:u.palette.primary.main},children:h("openingHours")})]})})]}),(0,s.jsx)(B,{foodPlaceData:n,open:a,setOpen:l}),(0,s.jsx)(U,{open:r,setOpen:x,foodPlaces:[n],mapOpenCoordinates:[n.location.latitude,n.location.longitude],zoom:15})]})}function V(e){let{datePickerValue:t,datePickerSetValue:n,minDate:i,maxDate:a}=e,{triggerSidebarMobile:l,setTriggerSidebarMobile:r}=(0,c.useContext)(E.Z),x=(0,o.Z)(),{t:u}=(0,p.$G)("common");return(0,s.jsxs)(S.ZP,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:[(0,s.jsx)(S.ZP,{item:!0,lg:9,xs:12,children:(0,s.jsx)(Y,{datePickerValue:t})}),(0,s.jsx)(S.ZP,{item:!0,lg:0,md:3,sm:4,xs:6,sx:{display:{lg:"none",xs:"block"}},children:(0,s.jsx)(d.Z,{sx:{display:"center",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)(g.Z,{variant:"contained",onClick:()=>r(!l),size:"medium",sx:{backgroundColor:x.palette.primary.light,color:x.palette.primary.main},children:u("selectCanteen")})})}),(0,s.jsx)(S.ZP,{item:!0,lg:3,md:3,sm:4,xs:6,children:(0,s.jsx)(d.Z,{sx:{display:"center",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)(I,{datePickerValue:t,datePickerSetValue:n,minDate:i,maxDate:a})})})]})}var $=n(5820),q=n(129);(i=a||(a={})).GLUTEN="#DDCC66",i.WHEAT="#F5DEB3",i.RYE="#d1ae7b",i.BARLEY="#F3E1B6",i.OAT="#d8c29d",i.SPELT="#A38C6B",i.HYBRIDS="#CFCDAA",i.SHELLFISH="#D9C2B8",i.CHICKEN_EGGS="#ffa631",i.FISH="#00ffb5",i.PEANUTS="#eeddc3",i.SOY="#d7c49e",i.MILK="#fdfff5",i.LACTOSE="#e9cca4",i.ALMONDS="#EADDCA",i.HAZELNUTS="#ae9f80",i.WALNUTS="#773f1a",i.CASHEWS="#d4b797",i.PECAN="#c1b094",i.PISTACHIOES="#93C572",i.MACADAMIA="#d5c6ac",i.CELERY="#9DCE5C",i.MUSTARD="#FFDB58",i.SESAME="#f9f0d5",i.SULPHURS="#E8DE35",i.SULFITES="#d9d9d9",i.LUPIN="#bea0c8",i.MOLLUSCS="#bcd3bd",i.SHELL_FRUITS="#dcc13a",i.BAVARIA="#0098D4",i.MSC="#005DAA",i.DYESTUFF="#ffc0cb",i.PRESERVATIVES="#b92962",i.ANTIOXIDANTS="#d9d9d1",i.FLAVOR_ENHANCER="#dffbfb",i.WAXED="#f3e3c2",i.PHOSPATES="#FFA500",i.SWEETENERS="#944a00",i.PHENYLALANINE="#664667",i.COCOA_CONTAINING_GREASE="#D2691E",i.GELATIN="#bd6e84",i.ALCOHOL="#d5101d",i.PORK="#FCD7DE",i.BEEF="#f9906f",i.VEAL="#a16868",i.WILD_MEAT="#c38a8a",i.LAMB="#d5c3af",i.GARLIC="#f2e9d2",i.POULTRY="#ddc252",i.CEREAL="#efd7ab",i.MEAT="#f9906f",i.VEGAN="#8ec298",i.VEGETARIAN="#22aa00";var X=n(7918);function K(e){let{bgColor:t,text:n}=e,i=(0,o.Z)();return(0,s.jsx)(R.Z,{title:n,arrow:!0,children:(0,s.jsx)(X.Z,{label:n,sx:{backgroundColor:t,color:i.palette.secondary.light,fontWeight:"600",width:i.spacing(13),height:i.spacing(3)}})})}function J(e){var t;let{meal:n,labels:i}=e,l=(0,o.Z)(),{i18n:r,t:c}=(0,p.$G)("common"),x=(e,t)=>{let n=i.find(t=>t.enum_name===e);return n?"de"===t?null==n?void 0:n.text.DE.toUpperCase():null==n?void 0:n.text.EN.toUpperCase():""};return(0,s.jsxs)(q.E.div,{variants:{present:{scale:1,opacity:1},exit:{scale:.8,opacity:0}},initial:"exit",animate:"present",exit:"exit",layout:!0,style:{display:"flex",flexDirection:"column",gap:l.spacing(2),backgroundColor:l.palette.primary.light,color:l.palette.primary.main,padding:l.spacing(2),borderRadius:"12px",width:l.spacing(45),height:l.spacing(45)},children:[(0,s.jsx)(f.Z,{variant:"h5",children:n.name}),(0,s.jsx)(S.ZP,{container:!0,alignItems:"center",justifyContent:"flex-start",spacing:1,children:n.labels.map((e,t)=>(0,s.jsx)(S.ZP,{item:!0,xs:4,children:(0,s.jsx)(K,{bgColor:a[e],text:x(e,r.language)},e)},t.toLocaleString()))}),(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:"auto"},children:[(0,s.jsx)(f.Z,{variant:"h6",sx:{fontWeight:600},children:c("price")}),(0,s.jsx)(f.Z,{variant:"h6",sx:{fontWeight:600},children:null==(t=n.prices.students)?c("unknown"):0!==t.base_price?0!==t.price_per_unit&&null!=t.price_per_unit?"".concat(t.base_price.toFixed(2),"€ + ").concat(t.price_per_unit.toFixed(2),"€/").concat(t.unit):"".concat(t.base_price.toFixed(2),"€"):null!==t.price_per_unit?"".concat(t.price_per_unit.toFixed(2),"€/").concat(t.unit):c("unknown")})]})]})}function Q(e){let{dailyMeals:t,labels:n}=e,i=(0,o.Z)();return(0,s.jsx)(d.Z,{sx:{display:"flex",alignContent:"flex-start",justifyContent:{xs:"center",sd:"flex-start"},columnGap:i.spacing(4),rowGap:i.spacing(4),flexWrap:"wrap",my:i.spacing(4)},children:(0,s.jsx)($.M,{initial:!1,children:t.map(e=>(0,s.jsx)(J,{meal:e,labels:n},e.name))})})}var ee=n(8481);let et=(0,T.ZP)("div")(e=>{let{theme:t}=e;return{color:t.palette.primary.main,backgroundColor:t.palette.primary.light,borderRadius:"50%",width:t.spacing(4),height:t.spacing(4),textAlign:"center"}}),en=(0,T.ZP)("div")(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"center",gap:t.spacing(1),fontWeight:600,color:t.palette.primary.dark,backgroundColor:t.palette.primary.main,width:"fit-content"}});function ei(e){let{setFilteredValue:t,setShowMenu:n,meals:i,rerender:a}=e,{labels:l}=(0,c.useContext)(H),[r,x]=(0,c.useState)(),u=(0,o.Z)(),{t:h}=(0,p.$G)("common"),m=e=>i.filter(t=>e.includes(t.dish_type)),g=(e,t)=>{let n=Math.floor(e);return 0===n?null:t[Math.floor(Math.random()*(n-0)+0)]},j=()=>{t("Disable"),n(!0);let e=m(["Studitopf","Beilagen"]),i=m(["Grill","Vegetarisch","Fleisch","Wok","Pasta","Pizza"]),a=m(["S\xfc\xdfspeise"]),s={firstDish:g(e.length,e),secondDish:g(i.length,i),thirdDish:g(a.length,a)};x(s)};return((0,c.useEffect)(()=>{j()},[a]),r&&(r.firstDish||r.secondDish||r.thirdDish))?(0,s.jsxs)(d.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"flex-start",justifyContent:{xs:"center",sd:"flex-start"},gap:u.spacing(4),my:u.spacing(4)},children:[r&&r.firstDish&&(0,s.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",rowGap:u.spacing(5),alignItems:"center",justifyContent:"center"},children:[(0,s.jsxs)(en,{children:[(0,s.jsx)(et,{children:(0,s.jsx)(f.Z,{variant:"h6",children:"1"})}),(0,s.jsx)(f.Z,{variant:"h6",sx:{fontWeight:600},children:h("firstDish")})]}),r&&(0,s.jsx)(J,{meal:r.firstDish,labels:l})]}),r&&r.secondDish&&(0,s.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",rowGap:u.spacing(5),alignItems:"center",justifyContent:"center"},children:[(0,s.jsxs)(en,{children:[(0,s.jsx)(et,{children:(0,s.jsx)(f.Z,{variant:"h6",children:"2"})}),(0,s.jsx)(f.Z,{variant:"h6",sx:{fontWeight:600},children:h("secondDish")})]}),(0,s.jsx)(J,{meal:r.secondDish,labels:l})]}),r&&r.thirdDish&&(0,s.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",rowGap:u.spacing(5),alignItems:"center",justifyContent:"center"},children:[(0,s.jsxs)(en,{children:[(0,s.jsx)(et,{children:(0,s.jsx)(f.Z,{variant:"h6",children:"3"})}),(0,s.jsx)(f.Z,{variant:"h6",sx:{fontWeight:600},children:"Dessert"})]}),(0,s.jsx)(J,{meal:r.thirdDish,labels:l})]})]}):(0,s.jsx)(ee.Z,{translationString:"noMenu",imageSource:"/no_menu.svg"})}var ea=n(8364),es=n(8831),el=n(6514),er=n(629),ec=n(3926),eo=n(4118),ed=n(4178),ex=n(5071);function ep(e){let{open:t,anchorRef:n,handleClose:i,selectedLabels:a,setSelectedLabels:l,handleCheck:r}=e,{labels:d}=(0,c.useContext)(H),x=(0,o.Z)(),{t:u,i18n:h}=(0,p.$G)("common"),m=(e,t)=>"de"===t?e.text.DE.toUpperCase():e.text.EN.toUpperCase(),f=(0,c.useMemo)(()=>d.sort((e,t)=>"en"===h.language?e.text.EN.localeCompare(t.text.EN):e.text.DE.localeCompare(t.text.DE)),[h.language,d]);return(0,s.jsx)(es.Z,{className:"container-dropdown",sx:{maxHeight:x.spacing(50),overflowY:"scroll"},open:t,anchorEl:n.current,role:void 0,placement:"bottom-end",transition:!0,disablePortal:!1,modifiers:[{name:"flip",enabled:!1},{name:"preventOverflow",enabled:!0,options:{boundariesElement:"scrollParent"}}],children:e=>{let{TransitionProps:n}=e;return(0,s.jsx)(el.Z,{...n,style:{transformOrigin:"left top"},children:(0,s.jsx)(er.Z,{sx:{marginTop:x.spacing(.1),backgroundColor:x.palette.secondary.main,borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px"},children:(0,s.jsx)(ec.d,{onClickAway:i,children:(0,s.jsxs)(eo.Z,{autoFocusItem:t,id:"composition-menu","aria-labelledby":"composition-button",children:[(0,s.jsxs)(ed.Z,{disableTouchRipple:!0,onClick:()=>l([]),sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:x.spacing(1)},children:[u("deleteFilters"),(0,s.jsx)(ea.Z,{sx:{color:"#545454",padding:"0 !important"}})]}),f.map((e,t)=>(0,s.jsxs)(ed.Z,{disableTouchRipple:!0,onClick:()=>r(e.enum_name),sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:x.spacing(1)},children:[m(e,h.language),(0,s.jsx)(ex.Z,{checked:a.includes(e.enum_name),onChange:()=>r(e.enum_name),color:"primary",sx:{padding:"0 !important"}})]},t.toLocaleString()))]})})})})}})}function eu(){let e=(0,o.Z)(),{t}=(0,p.$G)("common"),{foodPlaceMenu:n,labels:i}=(0,c.useContext)(H),[a,l]=(0,c.useState)(Z()()),[r,x]=(0,c.useState)(Z()()),[y,b]=(0,c.useState)(Z()()),[C,v]=(0,c.useState)([]),[P,S]=(0,c.useState)([]),[E,D]=(0,c.useState)([]),[k,w]=(0,c.useState)([]),[A,_]=(0,c.useState)("All"),[I,L]=(0,c.useState)(!1),[M,G]=(0,c.useState)(Math.random()),[R,F]=(0,c.useState)(!0),[T,N]=(0,c.useState)(!1),O=(0,c.useRef)(null),W=0===P.length,z=(0,u.Z)("(min-width:28.125em)"),B=(0,c.useRef)(T);(0,c.useEffect)(()=>{!0===B.current&&!1===T&&O.current.focus(),B.current=T},[T]);let U=(e,t)=>{if("All"!==t&&"Disable"!==t){let e=E.filter(e=>e.dish_type===t);v(e),L(!1)}else I&&"All"!==t?G(Math.random()):(v(E),L(!1));_(t)};return(0,c.useEffect)(()=>{if(0!==n.weeks.length){let e=n.weeks.filter(e=>e.year===(null==a?void 0:a.year())&&e.number===a.week()).map(e=>e.days.filter(e=>Z()(e.date).isSame(a,"day"))).flat(1).map(e=>e.dishes.map(e=>e)).flat(1);S(e),0!==k.length&&(e=e.filter(e=>e.labels.every(e=>!k.includes(e)))),D(e),v(e);let t=Math.max(...n.weeks.map(e=>e.number)),i=Math.min(...n.weeks.map(e=>e.number)),s=Z().max(n.weeks.filter(e=>e.number===t)[0].days.map(e=>Z()(e.date))),l=Z().min(n.weeks.filter(e=>e.number===i)[0].days.map(e=>Z()(e.date)));b(l),x(s)}else v([]),S([]);_("All"),L(!1)},[a,n]),(0,c.useEffect)(()=>{if(!R){let e=P.filter(e=>e.labels.every(e=>!k.includes(e)));D(e)}},[k]),(0,c.useEffect)(()=>{U({},A)},[E]),(0,c.useEffect)(()=>{F(!1)},[]),(0,s.jsxs)(d.Z,{sx:{minHeight:"100%",px:e.spacing(4),py:e.spacing(2),backgroundColor:"".concat(e.palette.primary.main," !important"),zoom:1},children:[(0,s.jsx)(V,{datePickerValue:a,datePickerSetValue:l,minDate:y,maxDate:r}),(0,s.jsx)(d.Z,{sx:{borderBottom:2,borderColor:"divider",display:"flex",justifyContent:"center"},children:(0,s.jsxs)(h.Z,{value:A,onChange:U,sx:{mt:e.spacing(1)},variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,children:[(0,s.jsx)(m.Z,{value:"All",label:t("all"),disabled:W}),(0,s.jsx)(m.Z,{value:"Fleisch",label:t("meat"),disabled:W}),(0,s.jsx)(m.Z,{value:"Vegetarisch",label:t("vegetarian"),disabled:W}),(0,s.jsx)(m.Z,{value:"Wok",label:"Wok",disabled:W}),(0,s.jsx)(m.Z,{value:"Grill",label:"Grill",disabled:W}),(0,s.jsx)(m.Z,{value:"Pasta",label:"Pasta",disabled:W}),(0,s.jsx)(m.Z,{value:"Pizza",label:"Pizza",disabled:W}),(0,s.jsx)(m.Z,{value:"Studitopf",label:t("studyPot"),disabled:W}),(0,s.jsx)(m.Z,{value:"Beilagen",label:t("sideDish"),disabled:W}),(0,s.jsx)(m.Z,{value:"S\xfc\xdfspeise",label:t("dessert"),disabled:W}),(0,s.jsx)(m.Z,{value:"Disable",label:"Disabled",sx:{display:"none",pointerEvents:"none"}})]})}),(0,s.jsxs)(d.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:{xs:"center",sd:"space-between"},gap:{xs:e.spacing(1),sd:"0"},mt:e.spacing(2)},children:[(0,s.jsx)(f.Z,{variant:"h5",sx:{fontWeight:600},children:t("cardGridHeading")}),(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:e.spacing(2)},children:[(0,s.jsx)(g.Z,{variant:"contained",size:z?"medium":"small",disabled:W,onClick:()=>{L(!0),G(Math.random())},sx:{backgroundColor:e.palette.primary.light,color:e.palette.primary.main},children:t("generateMenu")}),(0,s.jsx)(g.Z,{startIcon:(0,s.jsx)(j.Z,{}),variant:"contained",size:z?"medium":"small",disabled:W,ref:O,"aria-controls":T?"composition-menu":void 0,"aria-expanded":T?"true":void 0,"aria-haspopup":"true",onClick:()=>{N(e=>!e)},sx:{backgroundColor:e.palette.primary.light,color:e.palette.primary.main},children:"".concat(t("labelFilter"),"(").concat(k.length,")")})]})]}),0===C.length||I?(0,s.jsx)(s.Fragment,{children:!I&&(0,s.jsx)(ee.Z,{translationString:"notFound",imageSource:"/not_found.svg"})}):(0,s.jsx)(Q,{dailyMeals:C,labels:i}),I&&(0,s.jsx)(ei,{setFilteredValue:_,setShowMenu:L,meals:E,rerender:M}),T&&(0,s.jsx)(ep,{open:T,anchorRef:O,handleClose:e=>{O.current&&O.current.contains(e.target)||N(!1)},handleCheck:e=>{k.includes(e)?w(k.filter(t=>t!==e)):w([...k,e])},selectedLabels:k,setSelectedLabels:w})]})}Z().extend(C()),Z().extend(P());var eh=n(2714),em=!0;function ef(e){let{foodPlaces:t,foodPlaceMenu:n,labels:i,queueData:a}=e,l=(0,o.Z)(),p=t.find(e=>e.canteen_id===n.canteen_id),u=(0,c.useMemo)(()=>({foodPlaceMenu:n,foodPlaceData:p,labels:i,queueData:a}),[n,p,i,a]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r(),{children:[(0,s.jsxs)("title",{children:["TUMenu – ",p.name]}),(0,s.jsx)("meta",{name:"description",content:"Entdecke hier die t\xe4glichen Men\xfcs der ".concat(p.name,". Finde jetzt dein n\xe4chstes Mahlzeit!")})]}),(0,s.jsxs)(H.Provider,{value:u,children:[(0,s.jsx)(x.Z,{}),(0,s.jsxs)(d.Z,{sx:{display:"grid",gridTemplateColumns:{lg:"".concat(l.spacing(30)," calc(100% - ").concat(l.spacing(30),")"),xs:"100%"}},children:[(0,s.jsx)(eh.Z,{foodPlaces:t}),p&&(0,s.jsx)(eu,{})]})]})]})}}},function(e){e.O(0,[970,492,731,774,888,179],function(){return e(e.s=9783)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[428],{9783:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/[id]",function(){return t(4150)}])},787:function(e,n,t){"use strict";t.d(n,{Z:function(){return Banner}});var a=t(5893),i=t(2734),s=t(5861),r=t(3738),l=t(7304),o=t(9755),c=t.n(o),d=t(1163),x=t(9467),u=t(6886),p=t(1664),h=t.n(p),m=t(9318),LanguageSwitcher=e=>{let{locale:n,...t}=e,r=(0,d.useRouter)(),o=(0,i.Z)(),{t:c}=(0,l.$G)("common"),p=t.href||r.asPath,g=r.pathname;return Object.keys(r.query).forEach(e=>{if("locale"===e){g=g.replace("[".concat(e,"]"),n);return}g=g.replace("[".concat(e,"]"),r.query[e])}),n&&(p=t.href?"/".concat(n).concat(t.href):g),(0,a.jsxs)(u.ZP,{container:!0,alignItems:"center",justifyContent:"center",sx:{position:"absolute",top:o.spacing(2),right:{xs:0,sm:o.spacing(4)},width:o.spacing(28)},children:[(0,a.jsx)(u.ZP,{item:!0,xs:8,children:(0,a.jsx)(s.Z,{variant:"subtitle1",sx:{color:o.palette.primary.main},children:c("language")})}),(0,a.jsx)(u.ZP,{item:!0,xs:4,children:(0,a.jsx)(h(),{href:p,onClick:()=>x.Z.cache(n),children:(0,a.jsx)("button",{style:{fontSize:o.spacing(3),backgroundColor:"transparent",cursor:"pointer",border:"none"},children:"de"===n?(0,a.jsx)(m.Z,{countryCode:"DE",svg:!0}):(0,a.jsx)(m.Z,{countryCode:"GB",svg:!0})})})})]})},g=t(5400),f=t.n(g);function Banner(){let e=(0,d.useRouter)(),n=(0,i.Z)(),{t}=(0,l.$G)("common"),o=e.query.locale||f().i18n.defaultLocale;return(0,a.jsxs)(r.Z,{sx:{position:"relative",width:"100%",height:n.spacing(44),zIndex:n.zIndex.drawer+1},children:[(0,a.jsx)(c(),{src:"".concat("","/MGA-8.jpg"),objectFit:"cover",layout:"fill",quality:100,objectPosition:"bottom",style:{filter:"brightness(60%)"},priority:!0,alt:"Mensa Garching"}),(0,a.jsxs)(r.Z,{sx:{position:"absolute",left:{sm:n.spacing(7),xs:"50%"},top:{sm:n.spacing(7),xs:"50%"},color:n.palette.primary.main,maxWidth:n.spacing(80),width:{xs:"90%",sm:"unset"},textAlign:{sm:"left",xs:"center"},transform:{xs:"translate(-50%,-50%)",sm:"unset"}},children:[(0,a.jsxs)(s.Z,{variant:"h2",sx:{color:n.palette.primary.light,fontWeight:600},children:["TUM",(0,a.jsx)("span",{style:{color:n.palette.primary.main},children:"enu"})]}),(0,a.jsx)(s.Z,{variant:"h5",sx:{paddingLeft:n.spacing(1)},children:t("subtitleBanner")})]}),(0,a.jsx)(s.Z,{variant:"body2",sx:{position:"absolute",right:"5px",bottom:"5px",color:n.palette.primary.main,fontSize:n.spacing(.85)},children:"Copyright: https://www.meck-architekten.de/projekte/id/2019-mensa-campus-garching/"}),f().i18n.locales.map(e=>e===o?null:(0,a.jsx)(LanguageSwitcher,{locale:e},e))]})}},561:function(e,n,t){"use strict";t.d(n,{Z:function(){return NotFound}});var a=t(5893),i=t(2734),s=t(8396),r=t(3738),l=t(5861),o=t(7304),c=t(5675),d=t.n(c);function NotFound(e){let{imageSource:n,translationString:t}=e,c=(0,i.Z)(),{t:x}=(0,o.$G)("common"),u=(0,s.Z)("(min-width:37.5em)");return(0,a.jsx)(r.Z,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"center",columnGap:c.spacing(4),rowGap:c.spacing(4),flexWrap:"wrap",my:c.spacing(4)},children:(0,a.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:c.spacing(2)},children:[(0,a.jsx)(l.Z,{variant:"h4",sx:{color:c.palette.primary.dark,fontWeight:600},children:x(t)}),(0,a.jsx)(d(),{src:""+n,quality:100,height:u?400:300,width:u?400:300,priority:!0,alt:"Not Found"})]})})}},2424:function(e,n,t){"use strict";t.d(n,{Z:function(){return Sidebar}});var a=t(5893),i=t(7294),s=t(5152),r=t.n(s),l=t(5813),o=t(7304),c=t(2734),d=t(3738),x=t(9417),u=t(5861),p=t(8462),h=t(9140),m=t(7212),g=t(8619),f=t(9334),j=t(7594),y=t(7922),b=t(3508),Z=t(181),C=t(1664),v=t.n(C),S=t(1163),P=t(9657);function LinkComponent(e){let{children:n,skipLocaleHandling:t,...s}=e,{setTriggerSidebarMobile:r}=(0,i.useContext)(P.Z),l=(0,c.Z)(),o=(0,S.useRouter)(),d=s.locale||o.query.locale||"",x=s.href||o.asPath;return 0===x.indexOf("http")&&(t=!0),d&&!t&&(x=x?"/".concat(d).concat(x):o.pathname.replace("[locale]",d)),(0,a.jsx)(v(),{href:x,legacyBehavior:!0,scroll:!1,children:(0,a.jsx)("a",{...s,style:{textDecoration:"none",color:l.palette.primary.main},onClick:()=>r(!1),children:n})})}function SidebarSubmenu(e){let{foodPlace:n}=e,[t,s]=(0,i.useState)(!1),r=(0,c.Z)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.ZP,{disablePadding:!0,children:(0,a.jsxs)(g.Z,{onClick:()=>s(!t),children:[(0,a.jsx)(f.Z,{disableTypography:!0,primary:n.city,sx:{fontSize:r.spacing(2.5)}}),(0,a.jsx)(j.Z,{children:t?(0,a.jsx)(Z.Z,{sx:{color:r.palette.primary.main}}):(0,a.jsx)(b.Z,{sx:{color:r.palette.primary.main}})})]})},n.city),(0,a.jsx)(y.Z,{in:t,timeout:"auto",unmountOnExit:!0,children:(0,a.jsx)(p.Z,{component:"div",disablePadding:!0,children:n.foodPlaces.map(e=>(0,a.jsx)(LinkComponent,{href:"/".concat(e.canteen_id),skipLocaleHandling:!1,children:(0,a.jsx)(g.Z,{sx:{pl:4},children:(0,a.jsx)(f.Z,{disableTypography:!0,primary:e.name,sx:{fontSize:r.spacing(2)}})})},e.canteen_id))})})]})}let D=r()(()=>Promise.all([t.e(269),t.e(492),t.e(482)]).then(t.bind(t,7037)),{loadableGenerated:{webpack:()=>[7037]},ssr:!1});function Sidebar(e){let{foodPlaces:n}=e,[t,s]=(0,i.useState)(!1),{triggerSidebarMobile:r,setTriggerSidebarMobile:m}=(0,i.useContext)(P.Z),{t:g}=(0,o.$G)("common"),f=[{city:"Garching",foodPlaces:[]},{city:"Munich",foodPlaces:[]},{city:"Straubing",foodPlaces:[]},{city:"Weihenstephan",foodPlaces:[]},{city:"Rosenheim",foodPlaces:[]}];n.forEach(e=>{var n,t,a,i,s;let{address:r}=e.location;r.includes("Garching")?null===(n=f.find(e=>"Garching"===e.city))||void 0===n||n.foodPlaces.push(e):r.includes("M\xfcnchen")||r.includes("Plategg")||r.includes("Planegg-Martinsried")?null===(t=f.find(e=>"Munich"===e.city))||void 0===t||t.foodPlaces.push(e):r.includes("Freising")?null===(a=f.find(e=>"Weihenstephan"===e.city))||void 0===a||a.foodPlaces.push(e):r.includes("Rosenheim")?null===(i=f.find(e=>"Rosenheim"===e.city))||void 0===i||i.foodPlaces.push(e):r.includes("Straubing")&&(null===(s=f.find(e=>"Straubing"===e.city))||void 0===s||s.foodPlaces.push(e))});let j=(0,c.Z)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(d.Z,{sx:{display:{lg:"flex",xs:r?"flex":"none"},position:{lg:"relative",xs:"absolute"},minHeight:{lg:"auto",xs:"100%"},width:j.spacing(30),flexDirection:"column",bgcolor:j.palette.primary.light,color:j.palette.primary.main,borderBottomRightRadius:"12px",zIndex:9999,backgroundColor:j.palette.primary.light},children:[(0,a.jsx)(d.Z,{sx:{display:{lg:"none",xs:"flex"},justifyContent:"flex-end",backgroundColor:j.palette.primary.light,height:j.spacing(3),pt:j.spacing(.5),px:j.spacing(.5)},children:(0,a.jsx)(l.Z,{fontSize:"small",sx:{color:j.palette.primary.main,cursor:"pointer"},onClick:()=>m(!1)})}),(0,a.jsx)(x.Z,{onClick:()=>{s(!0),m(!1)},variant:"text",endIcon:(0,a.jsx)(h.Z,{}),sx:{justifyContent:"flex-start",pl:j.spacing(2)},children:(0,a.jsx)(u.Z,{variant:"h6",children:g("showAllCanteens")})}),(0,a.jsx)(p.Z,{component:"nav",children:f.map(e=>(0,a.jsx)(SidebarSubmenu,{foodPlace:e},e.city))})]}),(0,a.jsx)(D,{open:t,setOpen:s,foodPlaces:n,mapOpenCoordinates:[48.132264,11.57743],zoom:11})]})}},9467:function(e,n,t){"use strict";var a=t(9515),i=t(5400),s=t.n(i);n.Z=(0,a.Z)({supportedLngs:s().i18n.locales,fallbackLng:s().i18n.defaultLocale})},5400:function(e){"use strict";e.exports={i18n:{defaultLocale:"de",locales:["en","de"],localeDetection:!0}}},4150:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return ei},default:function(){return CanteenPage}});var a,i,s=t(5893),r=t(9008),l=t.n(r),o=t(7294),c=t(2734),d=t(3738),x=t(787),u=t(7304),p=t(8396),h=t(1703),m=t(44),g=t(5861),f=t(9417),j=t(8162),y=t(7484),b=t.n(y),Z=t(5183),C=t.n(Z),v=t(7181),S=t.n(v),P=t(6886),D=t(9657),E=t(5046),k=t(6829),w=t(2359),A=t(718);function disableWeekends(e){return 0===e.get("day")||6===e.get("day")}function HeaderDatePicker(e){let{datePickerValue:n,datePickerSetValue:t,minDate:a,maxDate:i}=e,r=(0,c.Z)();return(0,s.jsx)(w._,{dateAdapter:k.y,children:(0,s.jsx)(A.M,{closeOnSelect:!0,minDate:a,maxDate:i,shouldDisableDate:disableWeekends,value:n,onChange:e=>{b()(e).isValid()&&t(e)},renderInput:e=>(0,s.jsx)(E.Z,{sx:{backgroundColor:r.palette.secondary.main},...e})})})}var _=t(5152),L=t.n(_),I=t(8441),M=t(4386),G=t(8962),R=t(1496),F=t(9308);let T=["mon","tue","wed","thu","fri"];var N=t(2492),O=t(5813);function OpeningHours(e){let{foodPlaceData:n,open:t,setOpen:a}=e,{t:i}=(0,u.$G)("common"),r=(0,c.Z)();return(0,s.jsxs)(N.Z,{open:t,onClose:()=>a(!1),PaperProps:{style:{borderRadius:"12px"}},disableScrollLock:!0,children:[(0,s.jsx)(d.Z,{sx:{display:"flex",justifyContent:"flex-end",backgroundColor:r.palette.primary.light,height:r.spacing(5),pt:r.spacing(.5),px:r.spacing(.5)},children:(0,s.jsx)(O.Z,{fontSize:"small",sx:{color:r.palette.primary.main,cursor:"pointer"},onClick:()=>a(!1)})}),(0,s.jsxs)(P.ZP,{container:!0,rowSpacing:2,flexDirection:"column",sx:{px:{xs:r.spacing(3),sm:r.spacing(5)},pb:r.spacing(5),width:{xs:r.spacing(37),sm:r.spacing(50)},textAlign:"center",backgroundColor:r.palette.primary.light,color:r.palette.primary.main},children:[(0,s.jsxs)(P.ZP,{item:!0,xs:12,sx:{borderBottom:"2px solid #fff"},children:[(0,s.jsx)(g.Z,{variant:"h4",children:n.name}),(0,s.jsx)(g.Z,{variant:"subtitle1",sx:{mt:r.spacing(1)},children:i("openingHours")})]}),(0,s.jsx)(P.ZP,{item:!0,xs:12,children:(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(g.Z,{variant:"h6",children:i("monday")}),(0,s.jsx)(g.Z,{variant:"h6",children:"".concat(n.open_hours.mon.start," - ").concat(n.open_hours.mon.end)})]})}),(0,s.jsx)(P.ZP,{item:!0,xs:12,children:(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(g.Z,{variant:"h6",children:i("tuesday")}),(0,s.jsx)(g.Z,{variant:"h6",children:"".concat(n.open_hours.tue.start," - ").concat(n.open_hours.tue.end)})]})}),(0,s.jsx)(P.ZP,{item:!0,xs:12,children:(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(g.Z,{variant:"h6",children:i("wednesday")}),(0,s.jsx)(g.Z,{variant:"h6",children:"".concat(n.open_hours.wed.start," - ").concat(n.open_hours.wed.end)})]})}),(0,s.jsx)(P.ZP,{item:!0,xs:12,children:(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(g.Z,{variant:"h6",children:i("thursday")}),(0,s.jsx)(g.Z,{variant:"h6",children:"".concat(n.open_hours.thu.start," - ").concat(n.open_hours.thu.end)})]})}),(0,s.jsx)(P.ZP,{item:!0,xs:12,children:(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(g.Z,{variant:"h6",children:i("friday")}),(0,s.jsx)(g.Z,{variant:"h6",children:"".concat(n.open_hours.fri.start," - ").concat(n.open_hours.fri.end)})]})})]})]})}let W=(0,o.createContext)({foodPlaceMenu:{},foodPlaceData:{},labels:[],queueData:{}}),H=L()(()=>Promise.all([t.e(269),t.e(37)]).then(t.bind(t,7037)),{loadableGenerated:{webpack:()=>[7037]},ssr:!1});function FoodPlaceTitleContainer(e){let{datePickerValue:n}=e,{foodPlaceData:t,queueData:a}=(0,o.useContext)(W),[i,r]=(0,o.useState)(!1),[l,x]=(0,o.useState)(!1),p=(0,c.Z)(),{t:h}=(0,u.$G)("common"),m=(null==n?void 0:n.get("day"))===6||(null==n?void 0:n.get("day"))===0,j=(0,R.ZP)(I.Z)(()=>({["&.".concat(G.Z.colorPrimary)]:{backgroundColor:p.palette.secondary.main},["& .".concat(G.Z.bar)]:{borderRadius:5,backgroundColor:"light"===p.palette.mode?"#1a90ff":"#308fe8"}}));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(P.ZP,{container:!0,rowSpacing:1,alignItems:"center",justifyContent:"center",flexDirection:"row",sx:{width:"100%",position:"relative"},children:[(0,s.jsx)(P.ZP,{item:!0,xs:12,children:(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,s.jsx)(g.Z,{variant:"h4",sx:{fontWeight:600,textAlign:{xs:"center",sm:"right"}},children:t.name}),(0,s.jsx)(F.Z,{onClick:()=>x(!0),sx:{fontSize:p.spacing(6),color:p.palette.secondary.dark,cursor:"pointer"}})]})}),null!==a&&b()(b()().format("MM/DD/YYYY")).isSame(b()(null==n?void 0:n.format("MM/DD/YYYY")))?(0,s.jsx)(P.ZP,{item:!0,xs:12,children:(0,s.jsxs)(P.ZP,{container:!0,justifyContent:"center",alignItems:"center",spacing:1,flexDirection:"row",children:[(0,s.jsx)(P.ZP,{item:!0,sd:3,xs:5,children:(0,s.jsx)(g.Z,{variant:"subtitle1",sx:{textAlign:"center"},children:h("queueStatus")})}),(0,s.jsx)(P.ZP,{item:!0,xs:7,children:(0,s.jsx)(M.Z,{title:"".concat(h("people"),": ").concat(a.count,", ").concat(h("percent"),": ").concat(a.percent.toFixed(2)),arrow:!0,placement:"bottom-end",children:(0,s.jsx)(j,{variant:"determinate",value:a.percent,sx:{borderRadius:"12px",height:p.spacing(2.75),backgroundColor:p.palette.primary.light}})})})]})}):"",(0,s.jsx)(P.ZP,{item:!0,sm:9,xs:12,children:(0,s.jsxs)(d.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",gap:p.spacing(1)},children:[(0,s.jsx)(g.Z,{variant:"subtitle1",sx:{textAlign:{xs:"center",sm:"right"}},children:m?h("intlDateTimeClosed",{val:n,formatParams:{val:{weekday:"long"}}}):"".concat(h("intlDateTimeOpen",{val:n,formatParams:{val:{weekday:"long"}}})," ").concat(t.open_hours["".concat(T[(null==n?void 0:n.get("day"))-1])].start," - ").concat(t.open_hours["".concat(T[(null==n?void 0:n.get("day"))-1])].end)}),(0,s.jsx)(f.Z,{onClick:()=>r(!0),variant:"contained",size:"medium",sx:{backgroundColor:p.palette.primary.light,color:p.palette.primary.main},children:h("openingHours")})]})})]}),(0,s.jsx)(OpeningHours,{foodPlaceData:t,open:i,setOpen:r}),(0,s.jsx)(H,{open:l,setOpen:x,foodPlaces:[t],mapOpenCoordinates:[t.location.latitude,t.location.longitude],zoom:15})]})}function LayoutContainerHeader(e){let{datePickerValue:n,datePickerSetValue:t,minDate:a,maxDate:i}=e,{triggerSidebarMobile:r,setTriggerSidebarMobile:l}=(0,o.useContext)(D.Z),x=(0,c.Z)(),{t:p}=(0,u.$G)("common");return(0,s.jsxs)(P.ZP,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:[(0,s.jsx)(P.ZP,{item:!0,lg:9,xs:12,children:(0,s.jsx)(FoodPlaceTitleContainer,{datePickerValue:n})}),(0,s.jsx)(P.ZP,{item:!0,lg:0,md:3,sm:4,xs:6,sx:{display:{lg:"none",xs:"block"}},children:(0,s.jsx)(d.Z,{sx:{display:"center",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)(f.Z,{variant:"contained",onClick:()=>l(!r),size:"medium",sx:{backgroundColor:x.palette.primary.light,color:x.palette.primary.main},children:p("selectCanteen")})})}),(0,s.jsx)(P.ZP,{item:!0,lg:3,md:3,sm:4,xs:6,children:(0,s.jsx)(d.Z,{sx:{display:"center",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)(HeaderDatePicker,{datePickerValue:n,datePickerSetValue:t,minDate:a,maxDate:i})})})]})}var z=t(5820),B=t(129);(a=i||(i={})).GLUTEN="#DDCC66",a.WHEAT="#F5DEB3",a.RYE="#d1ae7b",a.BARLEY="#F3E1B6",a.OAT="#d8c29d",a.SPELT="#A38C6B",a.HYBRIDS="#CFCDAA",a.SHELLFISH="#D9C2B8",a.CHICKEN_EGGS="#ffa631",a.FISH="#00ffb5",a.PEANUTS="#eeddc3",a.SOY="#d7c49e",a.MILK="#fdfff5",a.LACTOSE="#e9cca4",a.ALMONDS="#EADDCA",a.HAZELNUTS="#ae9f80",a.WALNUTS="#773f1a",a.CASHEWS="#d4b797",a.PECAN="#c1b094",a.PISTACHIOES="#93C572",a.MACADAMIA="#d5c6ac",a.CELERY="#9DCE5C",a.MUSTARD="#FFDB58",a.SESAME="#f9f0d5",a.SULPHURS="#E8DE35",a.SULFITES="#d9d9d9",a.LUPIN="#bea0c8",a.MOLLUSCS="#bcd3bd",a.SHELL_FRUITS="#dcc13a",a.BAVARIA="#0098D4",a.MSC="#005DAA",a.DYESTUFF="#ffc0cb",a.PRESERVATIVES="#b92962",a.ANTIOXIDANTS="#d9d9d1",a.FLAVOR_ENHANCER="#dffbfb",a.WAXED="#f3e3c2",a.PHOSPATES="#FFA500",a.SWEETENERS="#944a00",a.PHENYLALANINE="#664667",a.COCOA_CONTAINING_GREASE="#D2691E",a.GELATIN="#bd6e84",a.ALCOHOL="#d5101d",a.PORK="#FCD7DE",a.BEEF="#f9906f",a.VEAL="#a16868",a.WILD_MEAT="#c38a8a",a.LAMB="#d5c3af",a.GARLIC="#f2e9d2",a.POULTRY="#ddc252",a.CEREAL="#efd7ab",a.MEAT="#f9906f",a.VEGAN="#8ec298",a.VEGETARIAN="#22aa00";var U=t(7918);function Label(e){let{bgColor:n,text:t}=e,a=(0,c.Z)();return(0,s.jsx)(M.Z,{title:t,arrow:!0,children:(0,s.jsx)(U.Z,{label:t,sx:{backgroundColor:n,color:a.palette.secondary.light,fontWeight:"600",width:a.spacing(13),height:a.spacing(3)}})})}function DishCard(e){var n;let{meal:t,labels:a}=e,r=(0,c.Z)(),{i18n:l,t:o}=(0,u.$G)("common"),getLabelText=(e,n)=>{let t=a.find(n=>n.enum_name===e);return t?"de"===n?null==t?void 0:t.text.DE.toUpperCase():null==t?void 0:t.text.EN.toUpperCase():""};return(0,s.jsxs)(B.E.div,{variants:{present:{scale:1,opacity:1},exit:{scale:.8,opacity:0}},initial:"exit",animate:"present",exit:"exit",layout:!0,style:{display:"flex",flexDirection:"column",gap:r.spacing(2),backgroundColor:r.palette.primary.light,color:r.palette.primary.main,padding:r.spacing(2),borderRadius:"12px",width:r.spacing(45),height:r.spacing(45)},children:[(0,s.jsx)(g.Z,{variant:"h5",children:t.name}),(0,s.jsx)(P.ZP,{container:!0,alignItems:"center",justifyContent:"flex-start",spacing:1,children:t.labels.map((e,n)=>(0,s.jsx)(P.ZP,{item:!0,xs:4,children:(0,s.jsx)(Label,{bgColor:i[e],text:getLabelText(e,l.language)},e)},n.toLocaleString()))}),(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:"auto"},children:[(0,s.jsx)(g.Z,{variant:"h6",sx:{fontWeight:600},children:o("price")}),(0,s.jsx)(g.Z,{variant:"h6",sx:{fontWeight:600},children:null==(n=t.prices.students)?o("unknown"):0!==n.base_price?0!==n.price_per_unit&&null!=n.price_per_unit?"".concat(n.base_price.toFixed(2),"€ + ").concat(n.price_per_unit.toFixed(2),"€/").concat(n.unit):"".concat(n.base_price.toFixed(2),"€"):null!==n.price_per_unit?"".concat(n.price_per_unit.toFixed(2),"€/").concat(n.unit):o("unknown")})]})]})}function CardGrid(e){let{dailyMeals:n,labels:t}=e,a=(0,c.Z)();return(0,s.jsx)(d.Z,{sx:{display:"flex",alignContent:"flex-start",justifyContent:{xs:"center",sd:"flex-start"},columnGap:a.spacing(4),rowGap:a.spacing(4),flexWrap:"wrap",my:a.spacing(4)},children:(0,s.jsx)(z.M,{initial:!1,children:n.map(e=>(0,s.jsx)(DishCard,{meal:e,labels:t},e.name))})})}var Y=t(561);let V=(0,R.ZP)("div")(e=>{let{theme:n}=e;return{color:n.palette.primary.main,backgroundColor:n.palette.primary.light,borderRadius:"50%",width:n.spacing(4),height:n.spacing(4),textAlign:"center"}}),$=(0,R.ZP)("div")(e=>{let{theme:n}=e;return{display:"flex",alignItems:"center",justifyContent:"center",gap:n.spacing(1),fontWeight:600,color:n.palette.primary.dark,backgroundColor:n.palette.primary.main,width:"fit-content"}});function GeneratedMenu(e){let{setFilteredValue:n,setShowMenu:t,meals:a,rerender:i}=e,{labels:r}=(0,o.useContext)(W),[l,x]=(0,o.useState)(),p=(0,c.Z)(),{t:h}=(0,u.$G)("common"),getDishSuggestions=e=>a.filter(n=>e.includes(n.dish_type)),getRandomDish=(e,n)=>{let t=Math.floor(e);return 0===t?null:n[Math.floor(Math.random()*(t-0)+0)]},generateMenu=()=>{n("Disable"),t(!0);let e=getDishSuggestions(["Studitopf","Beilagen"]),a=getDishSuggestions(["Grill","Vegetarisch","Fleisch","Wok","Pasta","Pizza"]),i=getDishSuggestions(["S\xfc\xdfspeise"]),s={firstDish:getRandomDish(e.length,e),secondDish:getRandomDish(a.length,a),thirdDish:getRandomDish(i.length,i)};x(s)};return((0,o.useEffect)(()=>{generateMenu()},[i]),l&&(l.firstDish||l.secondDish||l.thirdDish))?(0,s.jsxs)(d.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"flex-start",justifyContent:{xs:"center",sd:"flex-start"},gap:p.spacing(4),my:p.spacing(4)},children:[l&&l.firstDish&&(0,s.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",rowGap:p.spacing(5),alignItems:"center",justifyContent:"center"},children:[(0,s.jsxs)($,{children:[(0,s.jsx)(V,{children:(0,s.jsx)(g.Z,{variant:"h6",children:"1"})}),(0,s.jsx)(g.Z,{variant:"h6",sx:{fontWeight:600},children:h("firstDish")})]}),l&&(0,s.jsx)(DishCard,{meal:l.firstDish,labels:r})]}),l&&l.secondDish&&(0,s.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",rowGap:p.spacing(5),alignItems:"center",justifyContent:"center"},children:[(0,s.jsxs)($,{children:[(0,s.jsx)(V,{children:(0,s.jsx)(g.Z,{variant:"h6",children:"2"})}),(0,s.jsx)(g.Z,{variant:"h6",sx:{fontWeight:600},children:h("secondDish")})]}),(0,s.jsx)(DishCard,{meal:l.secondDish,labels:r})]}),l&&l.thirdDish&&(0,s.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",rowGap:p.spacing(5),alignItems:"center",justifyContent:"center"},children:[(0,s.jsxs)($,{children:[(0,s.jsx)(V,{children:(0,s.jsx)(g.Z,{variant:"h6",children:"3"})}),(0,s.jsx)(g.Z,{variant:"h6",sx:{fontWeight:600},children:"Dessert"})]}),(0,s.jsx)(DishCard,{meal:l.thirdDish,labels:r})]})]}):(0,s.jsx)(Y.Z,{translationString:"noMenu",imageSource:"/no_menu.svg"})}var q=t(8364),X=t(8831),K=t(6514),J=t(629),Q=t(3926),ee=t(4118),en=t(4178),et=t(5071);function FilterDropdown(e){let{open:n,anchorRef:t,handleClose:a,selectedLabels:i,setSelectedLabels:r,handleCheck:l}=e,{labels:d}=(0,o.useContext)(W),x=(0,c.Z)(),{t:p,i18n:h}=(0,u.$G)("common"),getLabelText=(e,n)=>"de"===n?e.text.DE.toUpperCase():e.text.EN.toUpperCase(),m=(0,o.useMemo)(()=>d.sort((e,n)=>"en"===h.language?e.text.EN.localeCompare(n.text.EN):e.text.DE.localeCompare(n.text.DE)),[h.language,d]);return(0,s.jsx)(X.Z,{className:"container-dropdown",sx:{maxHeight:x.spacing(50),overflowY:"scroll"},open:n,anchorEl:t.current,role:void 0,placement:"bottom-end",transition:!0,disablePortal:!1,modifiers:[{name:"flip",enabled:!1},{name:"preventOverflow",enabled:!0,options:{boundariesElement:"scrollParent"}}],children:e=>{let{TransitionProps:t}=e;return(0,s.jsx)(K.Z,{...t,style:{transformOrigin:"left top"},children:(0,s.jsx)(J.Z,{sx:{marginTop:x.spacing(.1),backgroundColor:x.palette.secondary.main,borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px"},children:(0,s.jsx)(Q.d,{onClickAway:a,children:(0,s.jsxs)(ee.Z,{autoFocusItem:n,id:"composition-menu","aria-labelledby":"composition-button",children:[(0,s.jsxs)(en.Z,{disableTouchRipple:!0,onClick:()=>r([]),sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:x.spacing(1)},children:[p("deleteFilters"),(0,s.jsx)(q.Z,{sx:{color:"#545454",padding:"0 !important"}})]}),m.map((e,n)=>(0,s.jsxs)(en.Z,{disableTouchRipple:!0,onClick:()=>l(e.enum_name),sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:x.spacing(1)},children:[getLabelText(e,h.language),(0,s.jsx)(et.Z,{checked:i.includes(e.enum_name),onChange:()=>l(e.enum_name),color:"primary",sx:{padding:"0 !important"}})]},n.toLocaleString()))]})})})})}})}function LayoutContainer(){let e=(0,c.Z)(),{t:n}=(0,u.$G)("common"),{foodPlaceMenu:t,labels:a}=(0,o.useContext)(W),[i,r]=(0,o.useState)(b()()),[l,x]=(0,o.useState)(b()()),[y,Z]=(0,o.useState)(b()()),[C,v]=(0,o.useState)([]),[S,P]=(0,o.useState)([]),[D,E]=(0,o.useState)([]),[k,w]=(0,o.useState)([]),[A,_]=(0,o.useState)("All"),[L,I]=(0,o.useState)(!1),[M,G]=(0,o.useState)(Math.random()),[R,F]=(0,o.useState)(!0),[T,N]=(0,o.useState)(!1),O=(0,o.useRef)(null),H=0===S.length,z=(0,p.Z)("(min-width:28.125em)"),B=(0,o.useRef)(T);(0,o.useEffect)(()=>{!0===B.current&&!1===T&&O.current.focus(),B.current=T},[T]);let handleChange=(e,n)=>{if("All"!==n&&"Disable"!==n){let e=D.filter(e=>e.dish_type===n);v(e),I(!1)}else L&&"All"!==n?G(Math.random()):(v(D),I(!1));_(n)};return(0,o.useEffect)(()=>{if(0!==t.weeks.length){let e=t.weeks.filter(e=>e.year===(null==i?void 0:i.year())&&e.number===i.week()).map(e=>e.days.filter(e=>b()(e.date).isSame(i,"day"))).flat(1).map(e=>e.dishes.map(e=>e)).flat(1);P(e),0!==k.length&&(e=e.filter(e=>e.labels.every(e=>!k.includes(e)))),E(e),v(e);let n=Math.max(...t.weeks.map(e=>e.number)),a=Math.min(...t.weeks.map(e=>e.number)),s=b().max(t.weeks.filter(e=>e.number===n)[0].days.map(e=>b()(e.date))),r=b().min(t.weeks.filter(e=>e.number===a)[0].days.map(e=>b()(e.date)));Z(r),x(s)}else v([]),P([]);_("All"),I(!1)},[i,t]),(0,o.useEffect)(()=>{if(!R){let e=S.filter(e=>e.labels.every(e=>!k.includes(e)));E(e)}},[k]),(0,o.useEffect)(()=>{handleChange({},A)},[D]),(0,o.useEffect)(()=>{F(!1)},[]),(0,s.jsxs)(d.Z,{sx:{minHeight:"100%",px:e.spacing(4),py:e.spacing(2),backgroundColor:"".concat(e.palette.primary.main," !important"),zoom:1},children:[(0,s.jsx)(LayoutContainerHeader,{datePickerValue:i,datePickerSetValue:r,minDate:y,maxDate:l}),(0,s.jsx)(d.Z,{sx:{borderBottom:2,borderColor:"divider",display:"flex",justifyContent:"center"},children:(0,s.jsxs)(h.Z,{value:A,onChange:handleChange,sx:{mt:e.spacing(1)},variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,children:[(0,s.jsx)(m.Z,{value:"All",label:n("all"),disabled:H}),(0,s.jsx)(m.Z,{value:"Fleisch",label:n("meat"),disabled:H}),(0,s.jsx)(m.Z,{value:"Vegetarisch",label:n("vegetarian"),disabled:H}),(0,s.jsx)(m.Z,{value:"Wok",label:"Wok",disabled:H}),(0,s.jsx)(m.Z,{value:"Grill",label:"Grill",disabled:H}),(0,s.jsx)(m.Z,{value:"Pasta",label:"Pasta",disabled:H}),(0,s.jsx)(m.Z,{value:"Pizza",label:"Pizza",disabled:H}),(0,s.jsx)(m.Z,{value:"Studitopf",label:n("studyPot"),disabled:H}),(0,s.jsx)(m.Z,{value:"Beilagen",label:n("sideDish"),disabled:H}),(0,s.jsx)(m.Z,{value:"S\xfc\xdfspeise",label:n("dessert"),disabled:H}),(0,s.jsx)(m.Z,{value:"Disable",label:"Disabled",sx:{display:"none",pointerEvents:"none"}})]})}),(0,s.jsxs)(d.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:{xs:"center",sd:"space-between"},gap:{xs:e.spacing(1),sd:"0"},mt:e.spacing(2)},children:[(0,s.jsx)(g.Z,{variant:"h5",sx:{fontWeight:600},children:n("cardGridHeading")}),(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:e.spacing(2)},children:[(0,s.jsx)(f.Z,{variant:"contained",size:z?"medium":"small",disabled:H,onClick:()=>{I(!0),G(Math.random())},sx:{backgroundColor:e.palette.primary.light,color:e.palette.primary.main},children:n("generateMenu")}),(0,s.jsx)(f.Z,{startIcon:(0,s.jsx)(j.Z,{}),variant:"contained",size:z?"medium":"small",disabled:H,ref:O,"aria-controls":T?"composition-menu":void 0,"aria-expanded":T?"true":void 0,"aria-haspopup":"true",onClick:()=>{N(e=>!e)},sx:{backgroundColor:e.palette.primary.light,color:e.palette.primary.main},children:"".concat(n("labelFilter"),"(").concat(k.length,")")})]})]}),0===C.length||L?(0,s.jsx)(s.Fragment,{children:!L&&(0,s.jsx)(Y.Z,{translationString:"notFound",imageSource:"/not_found.svg"})}):(0,s.jsx)(CardGrid,{dailyMeals:C,labels:a}),L&&(0,s.jsx)(GeneratedMenu,{setFilteredValue:_,setShowMenu:I,meals:D,rerender:M}),T&&(0,s.jsx)(FilterDropdown,{open:T,anchorRef:O,handleClose:e=>{O.current&&O.current.contains(e.target)||N(!1)},handleCheck:e=>{k.includes(e)?w(k.filter(n=>n!==e)):w([...k,e])},selectedLabels:k,setSelectedLabels:w})]})}b().extend(C()),b().extend(S());var ea=t(2424),ei=!0;function CanteenPage(e){let{foodPlaces:n,foodPlaceMenu:t,labels:a,queueData:i}=e,r=(0,c.Z)(),u=n.find(e=>e.canteen_id===t.canteen_id),p=(0,o.useMemo)(()=>({foodPlaceMenu:t,foodPlaceData:u,labels:a,queueData:i}),[t,u,a,i]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l(),{children:[(0,s.jsxs)("title",{children:["TUMenu – ",u.name]}),(0,s.jsx)("meta",{name:"description",content:"Entdecke hier die t\xe4glichen Men\xfcs der ".concat(u.name,". Finde jetzt dein n\xe4chstes Mahlzeit!")})]}),(0,s.jsxs)(W.Provider,{value:p,children:[(0,s.jsx)(x.Z,{}),(0,s.jsxs)(d.Z,{sx:{display:"grid",gridTemplateColumns:{lg:"".concat(r.spacing(30)," calc(100% - ").concat(r.spacing(30),")"),xs:"100%"}},children:[(0,s.jsx)(ea.Z,{foodPlaces:n}),u&&(0,s.jsx)(LayoutContainer,{})]})]})]})}}},function(e){e.O(0,[970,492,166,774,888,179],function(){return e(e.s=9783)}),_N_E=e.O()}]);